(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["member"],{"09bb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{id:"memberfavorite"}},[a("b-row",{staticClass:"mb-5"},[a("b-col",{staticClass:"h1 rounded text-white text-center py-3 aino-bg-primary aino-rounded",class:{labelDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},attrs:{cols:"12"}},[t._v("喜愛作品")])],1)],1)},r=[],i=(a("88e5"),a("2877")),n={},l=Object(i["a"])(n,s,r,!1,null,null,null);e["default"]=l.exports},"1ce9":function(t,e,a){},"202e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{id:"membertegami"}},[a("b-row",{staticClass:"mb-5"},[a("b-col",{staticClass:"h1 rounded text-white text-center py-3 aino-bg-primary aino-rounded",class:{labelDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},attrs:{cols:"12"}},[t._v("創作者手紙")])],1),a("div",[a("b-table",{class:{textDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},attrs:{striped:"",hover:!t.user.themeSwitcher,items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(openMail)",fn:function(e){return[a("b-btn",{staticClass:"aino-btn-third"},[t._v("開啟信件")])]}},{key:"cell(deleteMail)",fn:function(e){return[a("b-btn",{staticClass:"aino-btn-danger"},[t._v("刪除")])]}}])})],1)],1)},r=[],i={data:function(){return{fields:[{key:"image",label:"圖片"},{key:"title",label:"文作名稱"},{key:"novelType",label:"文作分類"},{key:"publishDate",label:"上傳日期"},{key:"openMail",label:""},{key:"deleteMail",label:""}],items:[]}}},n=i,l=(a("2c64"),a("2877")),o=Object(l["a"])(n,s,r,!1,null,null,null);e["default"]=o.exports},"20db":function(t,e,a){"use strict";a("fbae")},"236a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-5",attrs:{id:"membernovelsWrite"}},[a("b-container",{staticClass:"border-top"},[a("b-form",[a("b-row",{staticClass:"my-5",class:{textDark:t.user.themeSwitcher,light:!t.user.themeSwitcher}},[a("b-col",{staticClass:"d-flex flex-column align-items-center h2 mb-5",attrs:{cols:"12"}},[t._v("文作封面"),a("b-form-group",{staticClass:"mt-3 w-100 d-flex justify-content-center"},[a("img-inputer",{attrs:{accept:"image/*",theme:"light",size:"large","bottom-text":"修改文作封面","hover-text":"修改文作封面",placeholder:"上傳文作封面","max-size":1024,exceedSizeText:"文件大小不能超過"},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}})],1)],1),a("b-col",{staticClass:"d-flex",attrs:{cols:"12"}},[a("div",{staticClass:"aino-fs mr-3"},[t._v("文作名稱:")]),a("b-form-group",{staticClass:"w-75",attrs:{state:t.state.title}},[a("b-form-input",{staticClass:"w-100",attrs:{type:"text",required:"",state:t.state.title,placeholder:"請輸入文作名稱"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),a("b-col",{staticClass:"d-flex",attrs:{cols:"12"}},[a("div",{staticClass:"aino-fs mr-3"},[t._v("文作分類:")]),a("b-form-group",{staticClass:"w-75",attrs:{state:t.state.novelType}},[a("b-form-select",{staticClass:"w-100",attrs:{state:t.state.novelType,options:t.novelTypes},model:{value:t.form.novelType,callback:function(e){t.$set(t.form,"novelType",e)},expression:"form.novelType"}})],1)],1),a("b-col",{staticClass:"aino-fs",attrs:{cols:"12"}},[t._v("文作概要:"),a("b-form-group",{attrs:{state:t.state.summary}},[a("b-form-textarea",{attrs:{type:"text",required:"",state:t.state.summary,rows:"5","max-rows":"6"},model:{value:t.form.summary,callback:function(e){t.$set(t.form,"summary",e)},expression:"form.summary"}})],1)],1),a("b-col",{staticClass:"aino-fs",attrs:{cols:"12"}},[t._v("文作內文:"),a("b-form-group",{attrs:{state:t.state.text}},[a("b-form-textarea",{attrs:{type:"text",required:"",state:t.state.text,rows:"20"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1)],1),a("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"12"}},[a("b-btn",{staticClass:"aino-btn-third kanseibtn",attrs:{disabled:t.modalSubmitting},on:{click:t.publish}},[t._v("完成創作")])],1)],1)],1)],1)],1)},r=[],i=a("1da1"),n=(a("96cf"),{data:function(){return{novels:[],modalSubmitting:!1,novelTypes:[{text:"請選擇文作類別",value:""},"奇幻","古風","寫實","玄怪","恐怖","愛情","科幻","同人","西洋","東方"],form:{image:null,title:"",summary:"",novelType:"",text:"",index:-1,_id:"",author:"",authorId:"",publish:!0,publishDate:new Date}}},computed:{state:function(){return{title:0!==this.form.title.length||null,summary:0!==this.form.summary.length||null,novelType:0!==this.form.novelType.length||null,text:0!==this.form.text.length||null}}},methods:{publish:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,r,i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.preventDefault(),e.state.title&&e.state.summary&&e.state.novelType&&e.state.text){a.next=4;break}return e.$swal({icon:"error",title:"錯誤",text:"缺少必填欄位"}),a.abrupt("return");case 4:for(r in e.modalSubmitting=!0,s=new FormData,e.form)"_id"!==r&&(s.append(r,e.form[r]),e.form.author=e.user.account,e.form.authorId=e.user._id);return a.prev=7,a.next=10,e.api.post("/novels",s,{headers:{authorization:"Bearer "+e.user.token}});case 10:i=a.sent,n=i.data,e.novels.push(n.result),e.$swal({icon:"success",title:"成功",text:"上傳成功"}),e.$router.push("/member/membernovels/membernovelsList"),a.next=20;break;case 17:a.prev=17,a.t0=a["catch"](7),e.$swal({icon:"error",title:"錯誤",text:a.t0.response.data.message});case 20:e.modalSubmitting=!1;case 21:case"end":return a.stop()}}),a,null,[[7,17]])})))()},resetForm:function(t){this.modalSubmitting?t.preventDefault():this.form={image:null,title:"",summary:"",novelType:"",text:"",index:-1,_id:""}}}}),l=n,o=(a("5d8c"),a("2877")),c=Object(o["a"])(l,s,r,!1,null,null,null);e["default"]=c.exports},"23a4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{class:{textDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},attrs:{id:"memberhome"}},[a("b-row",[a("b-col",{staticClass:"h1 rounded text-white text-center py-3 aino-bg-primary aino-rounded",class:{labelDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},attrs:{cols:"12"}},[t._v("創作者資訊")])],1),a("b-row",{staticClass:"mt-5 border-bottom"},[a("b-col",{staticClass:"d-flex flex-column align-items-center h2 mb-5",attrs:{cols:"3"}},[t._v("創作者頭貼"),a("img",{staticClass:"mt-3 img-box aino-rounded",attrs:{src:t.user.image}})]),a("b-col",{staticClass:"pl-5 mb-5",attrs:{cols:"9"}},[a("b-row",{staticClass:"h-100 d-flex mx-0 my-0"},[a("b-col",{staticClass:"d-flex flex-column justify-content-around",attrs:{cols:"12"}},[t.user.nickname?a("div",{staticClass:"h3"},[t._v("創作者名稱: "+t._s(t.user.nickname))]):t._e(),t.user.nickname?t._e():a("div",{staticClass:"h3"},[t._v("創作者名稱: "+t._s(t.user.account))]),a("div",{staticClass:"h4"},[t._v("帳號: "+t._s(t.user.account))]),2===t.user.emailswitch?a("div",{staticClass:"h4"},[t._v("信箱: 不讓你看 キラー☆")]):t._e(),1===t.user.emailswitch?a("div",{staticClass:"h4"},[t._v("信箱: "+t._s(t.user.email))]):t._e(),13!==t.user.birthdayMon||32!==t.user.birthdayDate?a("div",{staticClass:"h4"},[t._v("生日: "+t._s(t.user.birthdayMon)+" 月 "+t._s(t.user.birthdayDate)+" 日")]):t._e(),13===t.user.birthdayMon&&32===t.user.birthdayDate?a("div",{staticClass:"h4"},[t._v("生日: 不讓你看 キラー☆")]):t._e(),a("div",{staticClass:"h4"},[t._v("性別: "+t._s(t.user.sex))]),a("b-btn",{staticClass:"aino-btn-third",attrs:{to:"/member/memberinfo"}},[t._v("資訊內容更新")])],1)],1)],1)],1),a("b-row",{staticClass:"mt-5"},[a("b-col",{staticClass:"h3",attrs:{cols:"12"}},[t._v("作品總數: "+t._s(t.novelsFilterMemberHome.length)+" 篇")])],1),a("b-row",t._l(t.novelsFilterMemberHome,(function(t){return a("b-col",{key:t._id,attrs:{cols:"12"}},[a("NovelsCard",{attrs:{novel:t}})],1)})),1)],1)},r=[],i=a("1da1"),n=(a("96cf"),a("4de4"),a("d3b7"),a("2e42")),l={components:{NovelsCard:n["a"]},data:function(){return{novels:[]}},computed:{novelsFilterMemberHome:function(){var t=this;return this.novels.filter((function(e){if(e.authorId===t.user._id)return!0}))},img:function(){return this.user.image}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("/novels/",{headers:{authorization:"Bearer "+t.user.token}});case 3:a=e.sent,s=a.data,t.novels=s.result,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t({icon:"error",title:"錯誤",text:"文作取得失敗"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},o=l,c=(a("dedb"),a("2877")),u=Object(c["a"])(o,s,r,!1,null,null,null);e["default"]=u.exports},2818:function(t,e,a){},"29f0":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{id:"memberothernovels"}},[a("b-row",[a("b-col",{staticClass:"h1 rounded text-white text-center py-3 aino-bg-primary aino-rounded",class:{labelDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},attrs:{cols:"12"}},[t._v("創作者作品列表")])],1),a("b-row",t._l(t.memberOthersNovelsFilter,(function(t){return a("b-col",{key:t._id,attrs:{cols:"12"}},[a("NovelsCard",{attrs:{novel:t}})],1)})),1)],1)},r=[],i=a("1da1"),n=(a("96cf"),a("4de4"),a("d3b7"),a("2e42")),l={data:function(){return{novels:[]}},components:{NovelsCard:n["a"]},computed:{memberOthersNovelsFilter:function(){var t=this;return this.novels.filter((function(e){if(e.authorId===t.$route.params.id)return!0}))}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("novels/");case 3:a=e.sent,s=a.data,t.novels=s.result,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},o=l,c=(a("3c67"),a("2877")),u=Object(c["a"])(o,s,r,!1,null,null,null);e["default"]=u.exports},"2c64":function(t,e,a){"use strict";a("82de")},"2e42":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{staticClass:"card-novels card-filter mb-4",class:{cardDark:t.user.themeSwitcher,textDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},attrs:{"img-left":"","img-src":t.novel.image,"img-width":"400"}},[a("b-card-body",{staticClass:"card-text-board pt-0"},[a("b-card-title",[t._v(t._s(t.novel.title))]),a("b-card-sub-title",{staticClass:"mb-2",class:{textSecondDark:t.user.themeSwitcher,light:!t.user.themeSwitcher}},[t._v("文作分類:"+t._s(t.novel.novelType))]),a("b-card-text",{staticClass:"summary-height"},[t._v(t._s(t.novel.summary))]),a("b-btn",{staticClass:"aino-btn-third",attrs:{to:"/novelpage/"+t.novel._id}},[t._v("欣賞此作品")])],1)],1)},r=[],i={props:{novel:{type:Object,required:!0}}},n=i,l=(a("3071"),a("2877")),o=Object(l["a"])(n,s,r,!1,null,null,null);e["a"]=o.exports},3071:function(t,e,a){"use strict";a("2818")},"39b5":function(t,e,a){},"3c67":function(t,e,a){"use strict";a("fa34")},"3c90":function(t,e,a){"use strict";a("4325")},4325:function(t,e,a){},"5d8c":function(t,e,a){"use strict";a("39b5")},"71e0":function(t,e,a){},7319:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"mt-5 h-100",attrs:{id:"member",fluid:""}},[a("b-row",[a("b-col",{attrs:{cols:"3"}},[a("div",{staticClass:"mx-3 py-3 px-3 aino-rounded bg-white",class:{whiteBoardDark:t.user.themeSwitcher,light:!t.user.themeSwitcher}},[a("b-nav",{attrs:{pills:"",justified:"",vertical:""}},[a("b-nav-item",{staticClass:"gen",attrs:{to:"/member",exact:"","exact-active-class":"active"}},[t._v("創作者首頁")]),a("b-nav-item",{staticClass:"gen",attrs:{to:"/member/membernovels/membernovelslist",exact:"","exact-active-class":"active"}},[t._v("作品頁面")]),a("b-nav-item",{staticClass:"gen",attrs:{to:"/member/memberfriends",exact:"","exact-active-class":"active",disabled:""}},[t._v("好友列表")]),a("b-nav-item",{staticClass:"gen",attrs:{to:"/member/membertegami",exact:"","exact-active-class":"active",disabled:""}},[t._v("創作者手紙")]),a("b-nav-item",{staticClass:"gen",attrs:{to:"/member/memberfavorite",exact:"","exact-active-class":"active",disabled:""}},[t._v("喜愛作品")])],1)],1)]),a("b-col",{staticClass:"mb-5",attrs:{cols:"9"}},[a("div",{staticClass:"mx-3 pt-3 h-100 aino-rounded bg-white",class:{whiteBoardDark:t.user.themeSwitcher,light:!t.user.themeSwitcher}},[a("router-view")],1)])],1)],1)},r=[],i=(a("f91f"),a("2877")),n={},l=Object(i["a"])(n,s,r,!1,null,null,null);e["default"]=l.exports},"81c7":function(t,e,a){},"82de":function(t,e,a){},"88e5":function(t,e,a){"use strict";a("81c7")},"910e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{id:"membernovels"}},[a("b-row",{staticClass:"my-5"},[a("b-col",{staticClass:"d-flex justify-content-center align-items-center",attrs:{cols:"6"}},[a("button",{staticClass:"novelslistbtn aino-rounded",class:{btnDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},on:{click:t.tolist}},[t._v("作品列表")])]),a("b-col",{staticClass:"d-flex justify-content-center align-items-center",attrs:{cols:"6"}},[a("button",{staticClass:"novelslistbtn aino-rounded",class:{btnDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},on:{click:t.towrite}},[t._v("創作")])])],1),a("router-view")],1)},r=[],i={methods:{tolist:function(){this.$router.push("/member/membernovels/membernovelsList")},towrite:function(){this.$router.push("/member/membernovels/membernovelsWrite")}}},n=i,l=(a("20db"),a("2877")),o=Object(l["a"])(n,s,r,!1,null,null,null);e["default"]=o.exports},"9b9a":function(t,e,a){},"9fc2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"mt-5",attrs:{id:"membernovelsList"}},[a("b-table",{ref:"table",class:{textDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},attrs:{striped:"",hover:!t.user.themeSwitcher,items:t.novelsFilterMemberNovelsList,fields:t.fields},scopedSlots:t._u([{key:"cell(image)",fn:function(e){return[e.item.image?a("img",{staticStyle:{height:"50px"},attrs:{src:e.item.image}}):t._e()]}},{key:"cell(edit)",fn:function(e){return[a("b-btn",{staticClass:"aino-btn-third",on:{click:function(a){return t.editNovels(e.index)}}},[t._v("編輯")])]}},{key:"cell(deleteNovels)",fn:function(e){return[a("b-btn",{staticClass:"aino-btn-danger",on:{click:function(a){return t.memberDeleteNovels(e.index)}}},[t._v("刪除文作")])]}}])}),a("b-modal",{attrs:{id:"modal-novel",size:"lg",centered:"","ok-title":"更新","cancel-title":"取消編輯","ok-disabled":t.modalSubmitting,"cancel-disabled":t.modalSubmitting,"header-class":{modalDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},"body-class":{modalDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},"footer-class":{modalDark:t.user.themeSwitcher,light:!t.user.themeSwitcher}},on:{ok:t.republish,hidden:t.resetForm}},[a("img-inputer",{attrs:{accept:"image/*",theme:"light",size:"large",bottomText:"點選或拖曳圖片以修改",hoverText:"點選或拖曳圖片以修改",placeholder:"點選或拖曳選擇圖片","max-size":1024,"exceed-size-text":"檔案大小不能超過"},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}}),a("b-form-group",{attrs:{label:"文作名稱:","label-for":"input-title",state:t.state.title}},[a("b-form-input",{attrs:{id:"input-title",type:"text",required:"",state:t.state.title},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("b-form-group",{attrs:{label:"文作分類:","label-for":"input-novelType",state:t.state.novelType}},[a("b-form-select",{attrs:{id:"input-novelType",required:"",options:t.novelTypes,state:t.state.novelType},model:{value:t.form.novelType,callback:function(e){t.$set(t.form,"novelType",e)},expression:"form.novelType"}})],1),a("b-form-group",{attrs:{label:"文作概要:","label-for":"input-summary",state:t.state.summary}},[a("b-form-textarea",{attrs:{id:"input-summary",type:"text",required:"",state:t.state.summary,rows:"5","max-rows":"6"},model:{value:t.form.summary,callback:function(e){t.$set(t.form,"summary",e)},expression:"form.summary"}})],1),a("b-form-group",{attrs:{label:"文作內文:","label-for":"input-text",state:t.state.text}},[a("b-form-textarea",{attrs:{id:"input-text",type:"text",required:"",state:t.state.text,rows:"20"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1)],1),a("b-modal",{attrs:{id:"modal-memberDeleteNovels",size:"lg",centered:"","ok-title":"確認刪除","cancel-title":"取消刪除","ok-variant":"danger","cancel-variant":"success"},on:{ok:t.deleteNovels}},[a("div",{staticClass:"h2 deleteSignal mx-auto my-3"},[a("div",{staticClass:"deleteSignalText"},[t._v("!")])]),a("div",{staticClass:"h2 text-center"},[t._v("是否刪除此文作?")])])],1)},r=[],i=a("5530"),n=a("1da1"),l=(a("96cf"),a("4de4"),a("d3b7"),a("a434"),{data:function(){return{form:{image:null,title:"",summary:"",novelType:"",text:"",index:-1,_id:"",publishDate:new Date},novelTypes:[{text:"請選擇文作類別",value:""},"奇幻","古風","寫實","玄怪","恐怖","愛情","科幻","同人","西洋","東方"],modalSubmitting:!1,novels:[],fields:[{key:"image",label:"圖片"},{key:"title",label:"文作名稱"},{key:"novelType",label:"文作分類"},{key:"publishDate",label:"上傳日期"},{key:"edit",label:"編輯"},{key:"deleteNovels",label:"刪除文作"}]}},computed:{state:function(){return{title:0!==this.form.title.length||null,summary:0!==this.form.summary.length||null,novelType:0!==this.form.novelType.length||null,text:0!==this.form.text.length||null}},novelsFilterMemberNovelsList:function(){var t=this;return this.novels.filter((function(e){if(e.authorId===t.user._id)return!0}))}},methods:{republish:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r,n,l,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.preventDefault(),e.state.title&&e.state.summary&&e.state.novelType&&e.state.text){a.next=4;break}return e.$swal({icon:"error",title:"錯誤",text:"缺少必填欄位"}),a.abrupt("return");case 4:for(r in e.modalSubmitting=!0,s=new FormData,e.form)"_id"!==r&&s.append(r,e.form[r]);if(a.prev=7,0!==e.form._id.length){a.next=16;break}return a.next=11,e.api.post("/novels",s,{headers:{authorization:"Bearer "+e.user.token}});case 11:n=a.sent,l=n.data,e.novelsFilterMemberNovelsList.push(l.result),a.next=22;break;case 16:return a.next=18,e.api.patch("/novels/"+e.form._id,s,{headers:{authorization:"Bearer "+e.user.token}});case 18:o=a.sent,c=o.data,e.novelsFilterMemberNovelsList[e.form.index]=Object(i["a"])(Object(i["a"])({},e.form),{},{image:c.result.image}),e.$refs.table.refresh();case 22:e.$swal({icon:"success",title:"成功",text:"編輯成功"}),e.$bvModal.hide("modal-novel"),a.next=29;break;case 26:a.prev=26,a.t0=a["catch"](7),e.$swal({icon:"error",title:"錯誤",text:a.t0.response.data.message});case 29:e.modalSubmitting=!1;case 30:case"end":return a.stop()}}),a,null,[[7,26]])})))()},resetForm:function(t){this.modalSubmitting?t.preventDefault():this.form={image:null,title:"",summary:"",novelType:"",text:"",index:-1,_id:""}},editNovels:function(t){this.form=Object(i["a"])(Object(i["a"])({},this.novelsFilterMemberNovelsList[t]),{},{image:null,index:t}),this.$bvModal.show("modal-novel")},memberDeleteNovels:function(t){this.form=Object(i["a"])(Object(i["a"])({},this.novelsFilterMemberNovelsList[t]),{},{image:null,index:t}),this.$bvModal.show("modal-memberDeleteNovels")},deleteNovels:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.delete("/novels/user/"+t.form._id,{headers:{authorization:"Bearer "+t.user.token}});case 3:a=e.sent,s=a.data,console.log(s.result),t.$swal({icon:"success",title:"成功",text:"文作刪除成功"}),t.novelsFilterMemberNovelsList.splice(t.form.index,1),t.$refs.table.refresh(),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),t.$swal({icon:"error",title:"錯誤",text:"文作刪除失敗"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("novels/me",{headers:{authorization:"Bearer "+t.user.token}});case 3:a=e.sent,s=a.data,t.novels=s.result,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.$swal({icon:"error",title:"錯誤",text:"文作取得失敗"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}),o=l,c=(a("c93f"),a("2877")),u=Object(c["a"])(o,s,r,!1,null,null,null);e["default"]=u.exports},c05d:function(t,e,a){"use strict";a("9b9a")},c93f:function(t,e,a){"use strict";a("71e0")},dedb:function(t,e,a){"use strict";a("1ce9")},ef29:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{id:"memberothershome"}},[a("b-row",[a("b-col",{staticClass:"h1 rounded text-white text-center py-3 aino-bg-primary aino-rounded",class:{labelDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},attrs:{cols:"12"}},[t._v("創作者資訊")])],1),a("b-row",{staticClass:"mt-5"},[a("b-col",{staticClass:"d-flex flex-column align-items-center h2 mb-5",attrs:{cols:"3"}},[t._v("創作者頭貼"),a("img",{staticClass:"mt-3 img-box aino-rounded",attrs:{src:this.avatarimg}})]),a("b-col",{staticClass:"pl-5 mb-5",attrs:{cols:"9"}},[a("b-row",{staticClass:"h-100 d-flex mx-0 my-0"},[a("b-col",{staticClass:"d-flex flex-column justify-content-around",attrs:{cols:"12"}},[this.nickname?a("div",{staticClass:"h3"},[t._v("創作者名稱: "+t._s(this.nickname))]):t._e(),this.nickname?t._e():a("div",{staticClass:"h3"},[t._v("創作者名稱: "+t._s(this.account))]),a("div",{staticClass:"h4"},[t._v("帳號: "+t._s(this.account))]),2===this.emailswitch?a("div",{staticClass:"h4"},[t._v("信箱: 不讓你看 キラー☆")]):t._e(),1===this.emailswitch?a("div",{staticClass:"h4"},[t._v("信箱: "+t._s(this.email))]):t._e(),13!==this.birthdayMon||32!==this.birthdayDate?a("div",{staticClass:"h4"},[t._v("生日: "+t._s(this.birthdayMon)+" 月 "+t._s(this.birthdayDate)+" 日")]):t._e(),13===this.birthdayMon&&32===this.birthdayDate?a("div",{staticClass:"h4"},[t._v("生日: 不讓你看 キラー☆")]):t._e(),a("div",{staticClass:"h4"},[t._v("性別: "+t._s(this.sex))]),a("b-btn",{staticClass:"aino-btn-third",on:{click:t.addFriend}},[t._v("加入好友")])],1)],1)],1)],1)],1)},r=[],i=a("1da1"),n=(a("96cf"),{data:function(){return{avatarimg:"",nickname:"",account:"",emailswitch:"",email:"",birthdayMon:"",birthdayDate:"",sex:""}},methods:{addFriend:function(){""===this.user._id&&this.$swal({icon:"error",title:"加入好友失敗",text:"請先登入"})}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("/users/"+t.$route.params.id);case 3:a=e.sent,s=a.data,t.avatarimg=s.result.image,t.nickname=s.result.nickname,t.account=s.result.account,t.emailswitch=s.result.emailswitch,t.email=s.result.email,t.birthdayMon=s.result.birthdayMon,t.birthdayDate=s.result.birthdayDate,t.sex=s.result.sex,document.title="Mono‘s Archive | ".concat(t.nickname," 創作者首頁"),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),t.$router.push("/");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))()}}),l=n,o=a("2877"),c=Object(o["a"])(l,s,r,!1,null,null,null);e["default"]=c.exports},f91f:function(t,e,a){"use strict";a("f9f4")},f9f4:function(t,e,a){},f9fc:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"my-5",attrs:{id:"memberfriends"}},[a("b-row",{staticClass:"my-5"},t._l(t.friendList,(function(e){return a("b-col",{key:e._id,staticClass:"mb-5",attrs:{cols:"4"}},[a("FriendCard",{attrs:{friend:t.friendlist}})],1)})),1)],1)},r=[],i=a("1da1"),n=(a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{attrs:{"img-top":"","img-src":t.user.image}},[a("b-card-body",{staticClass:"card-text-board"},[a("b-card-title",[t._v(t._s(t.user.nickname))]),a("b-button",{staticClass:"aino-btn-third",attrs:{to:"/memberothers/"+t.user._id}},[t._v(t._s(t.user.nickname)+" 的主頁")])],1)],1)}),l=[],o={props:{friend:{type:Object,require:!0}}},c=o,u=a("2877"),m=Object(u["a"])(c,n,l,!1,null,null,null),d=m.exports,h={components:{FriendCard:d},data:function(){return{friendList:[]}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("/users/nauthorgetall");case 3:a=e.sent,s=a.data,console.log(s),t.friendList=s.result,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t({icon:"error",title:"錯誤",text:"好友資訊取得失敗"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},b=h,f=(a("3c90"),Object(u["a"])(b,s,r,!1,null,null,null));e["default"]=f.exports},fa34:function(t,e,a){},fbae:function(t,e,a){},fead:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{id:"memberinfo"}},[a("b-row",[a("b-col",{staticClass:"h1 rounded text-white text-center py-3 aino-bg-primary aino-rounded",class:{labelDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},attrs:{cols:"12"}},[t._v("資訊更新")])],1),a("b-form",[a("b-row",{staticClass:"my-5"},[a("b-col",{staticClass:"d-flex flex-column align-items-center h2 mb-5",class:{textDark:t.user.themeSwitcher,light:!t.user.themeSwitcher},attrs:{cols:"12"}},[t._v("創作者頭貼"),a("b-form-group",{staticClass:"mt-3 w-100 d-flex justify-content-center"},[a("img-inputer",{staticClass:"circle",attrs:{accept:"image/*",theme:"light",size:"large","bottom-text":"修改大頭貼","hover-text":"修改大頭貼",placeholder:"上傳大頭貼","max-size":1024,exceedSizeText:"文件大小不能超過"},model:{value:t.form.avatarimg,callback:function(e){t.$set(t.form,"avatarimg",e)},expression:"form.avatarimg"}})],1)],1),a("div",{staticClass:"text-white aino-rounded aino-bg-primary w-100",class:{labelDark:t.user.themeSwitcher,light:!t.user.themeSwitcher}},[a("b-row",{staticClass:"my-5"},[a("b-col",{staticClass:"d-flex",attrs:{cols:"12"}},[a("div",{staticClass:"h3 mr-3"},[t._v("創作者名稱:")]),a("b-form-group",{staticClass:"w-75",attrs:{state:t.state.nickname}},[a("b-form-input",{staticClass:"w-100",attrs:{type:"text",required:"",state:t.state.nickname,placeholder:"請輸入創作者名稱"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}})],1)],1),a("b-col",{staticClass:"d-flex",attrs:{cols:"12"}},[a("div",{staticClass:"h3 mr-3"},[t._v("信箱公開:")]),a("b-form-group",{staticClass:"w-75",attrs:{state:t.state.emailswitch}},[a("b-form-select",{staticClass:"w-100",attrs:{state:t.state.emailswitch,options:t.emailswitchs},model:{value:t.form.emailswitch,callback:function(e){t.$set(t.form,"emailswitch",e)},expression:"form.emailswitch"}})],1)],1),a("b-col",{staticClass:"d-flex",attrs:{cols:"12"}},[a("div",{staticClass:"h3 mr-3"},[t._v("性別:")]),a("b-form-group",{staticClass:"w-75",attrs:{state:t.state.sex}},[a("b-form-select",{staticClass:"w-100",attrs:{state:t.state.sex,options:t.sexs},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}})],1)],1),a("b-col",{staticClass:"d-flex",attrs:{cols:"12"}},[a("div",{staticClass:"h3 mr-3"},[t._v("生日:")]),a("b-form-group",{staticClass:"w-25",attrs:{state:t.state.birthdayMon}},[a("b-form-select",{staticClass:"w-75",attrs:{state:t.state.birthdayMon,options:t.birthdayMons},model:{value:t.form.birthdayMon,callback:function(e){t.$set(t.form,"birthdayMon",e)},expression:"form.birthdayMon"}}),a("div",{staticClass:"h3 ml-3"},[t._v("月")])],1),a("b-form-group",{staticClass:"w-25",attrs:{state:t.state.birthdayDate}},[a("b-form-select",{staticClass:"w-75",attrs:{state:t.state.birthdayDate,options:t.birthdayDates},model:{value:t.form.birthdayDate,callback:function(e){t.$set(t.form,"birthdayDate",e)},expression:"form.birthdayDate"}}),a("div",{staticClass:"h3 ml-3"},[t._v("日")])],1)],1),a("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"12"}},[a("b-button",{staticClass:"aino-btn-third w-75",attrs:{disabled:t.modalSubmitting},on:{click:t.reinfo}},[t._v("更新")])],1)],1)],1)],1)],1)],1)},r=[],i=a("1da1"),n=(a("96cf"),{data:function(){return{modalSubmitting:!1,emailswitchs:[{text:"選擇公開與否",value:""},{text:"公開",value:1},{text:"不公開",value:2}],sexs:[{text:"選擇公開與否",value:""},"男性","女性","不公開"],birthdayMons:[{value:"",text:"請選擇月份"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:5,text:"5"},{value:6,text:"6"},{value:7,text:"7"},{value:8,text:"8"},{value:9,text:"9"},{value:10,text:"10"},{value:11,text:"11"},{value:12,text:"12"},{value:13,text:"不公開"}],birthdayDates:[{value:"",text:"請選擇日期"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:5,text:"5"},{value:6,text:"6"},{value:7,text:"7"},{value:8,text:"8"},{value:9,text:"9"},{value:10,text:"10"},{value:11,text:"11"},{value:12,text:"12"},{value:13,text:"13"},{value:14,text:"14"},{value:15,text:"15"},{value:16,text:"16"},{value:17,text:"17"},{value:18,text:"18"},{value:19,text:"19"},{value:20,text:"20"},{value:21,text:"21"},{value:22,text:"22"},{value:23,text:"23"},{value:24,text:"24"},{value:25,text:"25"},{value:26,text:"26"},{value:27,text:"27"},{value:28,text:"28"},{value:29,text:"29"},{value:30,text:"30"},{value:31,text:"31"},{value:32,text:"不公開"}],form:{avatarimg:null,nickname:"",emailswitch:"",sex:"",birthdayMon:"",birthdayDate:""}}},computed:{state:function(){return{nickname:0!==this.form.nickname.length||null,emailswitch:0!==this.form.emailswitch.length||null,birthdayMon:0!==this.form.birthdayMon.length||null,birthdayDate:0!==this.form.birthdayDate.length||null,sex:0!==this.form.sex.length||null,birthday:!(2===this.form.birthdayMon.value&&this.form.birthdayDate.value>29)||null}}},methods:{reinfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.state.nickname&&t.state.emailswitch&&t.state.birthdayMon&&t.state.birthdayDate&&t.state.sex){e.next=5;break}return t.$swal({icon:"error",title:"錯誤",text:"缺少必填欄位"}),e.abrupt("return");case 5:if(!(2===t.form.birthdayMon&&t.form.birthdayDate>29)){e.next=8;break}return t.$swal({icon:"error",title:"錯誤",text:"生日日期出現錯誤"}),e.abrupt("return");case 8:for(s in t.modalSubmitting=!0,a=new FormData,t.form)"avatarimg"===s?a.append("image",t.form.avatarimg):a.append(s,t.form[s]);return e.prev=11,e.next=14,t.api.patch("/users/reinfo",a,{headers:{authorization:"Bearer "+t.user.token}});case 14:r=e.sent,i=r.data,t.$store.commit("user/updateInfo",i.result),t.$swal({icon:"success",title:"成功",text:"更新成功"}),t.$router.push("/member"),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](11),t.$swal({icon:"error",title:"失敗",text:"創作者頭貼未更新"});case 24:t.modalSubmitting=!1;case 25:case"end":return e.stop()}}),e,null,[[11,21]])})))()}},created:function(){this.form.nickname=this.user.nickname,this.form.emailswitch=this.user.emailswitch,this.form.sex=this.user.sex,this.form.birthdayMon=this.user.birthdayMon,this.form.birthdayDate=this.user.birthdayDate}}),l=n,o=(a("c05d"),a("2877")),c=Object(o["a"])(l,s,r,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=member.48d0da7a.js.map